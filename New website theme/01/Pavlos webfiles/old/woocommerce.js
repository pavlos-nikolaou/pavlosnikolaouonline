var jwsThemeWooModule;(function($){"use strict";jwsThemeWooModule=(function(){return{init:function(){this.shop_display();this.jwsWishlist();this.jws_product_tabs_block();this.related_slider();this.quickViewInit();this.filterAjax();this.productImagesGallery();this.jwsproductAttribute();this.productImages();this.shop_sidebar();this.addToCartAllTypes();this.swatchesVariations();this.initZoom();this.jws_theme_countdown();this.countdown_single();this.change_quantity_discount();this.jws_woocommerce_checkout_medern();this.form_out_stock();this.single_product_js();this.see_cart();this.jws_tigger_function()},shop_display:function(){var $container=$('.products-wrap');if($container.hasClass('has-masonry')){$container.isotope({itemSelector:".product-item",layoutMode:'masonry',transitionDuration:"0.7s",})}},jwsWishlist:function(){var cookiesName='jws_wishlist_list';var counter=$('.jws_wishlist_count');if(jwsThemeModule.jws_script.is_multisite){cookiesName+='_'+jwsThemeModule.jws_script.current_blog_id}
var $body=$("body"),$widget=$('.jws-wishlist-info-widget'),wishlistCookie=Cookies.get(cookiesName);if($widget.length>0){try{var ids=JSON.parse(wishlistCookie);$widget.find('.wishlist-count').text(ids.length)}catch(e){console.log('cant parse cookies json')}}
function updateWishlist(data){if($('.jws_wishlist').length>0){$('.jws_wishlist').find('.jws_wishlist_count').text(data.count)}
if($('.jws-wishlist-table').length>0){$('.jws-wishlist-table').replaceWith(data.table)}}
$body.on('click','a.jws-wishlist-btn , a.jws-wishlistsg-btn',function(e){var $this=$(this),id=$this.data('id');if($this.hasClass('added'))return!0;e.preventDefault();if(!$this.find('.loader').length){$this.append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$this.addClass('loading');$('.jws-wishlist-btn').not('.loading').addClass('wislisting');$.ajax({url:jwsThemeModule.jws_script.ajax_url,data:{action:'jws_add_to_wishlist',id:id},dataType:'json',method:'GET',success:function(response){if(response.table){updateWishlist(response)}else{console.log('something wrong loading wishlist data ',response)}},error:function(){console.log('We cant add to wishlist. Something wrong with AJAX response. Probably some PHP conflict.')},complete:function(){$this.removeClass('loading').addClass('added');$('.jws-wishlist-btn').not('.loading').removeClass('wislisting');$('.jws_toolbar_wishlist').addClass('dots');setTimeout(function(){$('.jws_toolbar_wishlist').removeClass('dots')},3000)},})});function removeFromWishlist(id){var $table=$('.jws-wishlist-table');if(!$table.find('.loader').length){$table.append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$table.addClass('loading');$.ajax({url:jwsThemeModule.jws_script.ajax_url,data:{action:'jws_remove_from_wishlist',id:id},dataType:'json',method:'GET',success:function(response){if(response.table){updateWishlist(response)}else{console.log('Something went wrong while loading wishlist data',response)}},error:function(){console.log('We can\'t remove the product from the wishlist. Something is wrong with the AJAX response. Probably some PHP conflict.')},complete:function(){$table.removeClass('loading')}})}
$('body').on('click','.jws-wishlist-remove',function(e){e.preventDefault();var $this=$(this);var id=$this.data('id');if(id){removeFromWishlist(id)}});$('body').on('added_to_cart',function(event,fragments,cart_hash,$button){if(typeof $button==='undefined'){return}
var id=$button.data('id');removeFromWishlist(id)})},see_cart:function(){$('body').on('added_to_cart',function(event,fragments,cart_hash,$button){if(typeof $button==='undefined'||$button.data('eventHandled')){return}
$button.data('eventHandled',!0);var productData=$button[0];var image=$(productData).data('image');var title=$(productData).data('title');$('body').append('<div class="quickview-added"><div class="content-inner"><div class="image"><img src="'+image+'"></div><div class="title-product-cart"><strong>"'+title+'" </strong> '+jws_script.added_cart+' <a href="/cart" class="link_to_cart">'+jws_script.view_cart+' <i aria-hidden="true" class="ion-ios-arrow-thin-right"></i></a></div></div></div>');$(".quickview-added").hide().fadeIn("slow");setTimeout(function(){$('.quickview-added').fadeOut(1000,function(){$(".quickview-added").remove()})},2000)})},jws_theme_countdown:function(){var $tb_countdown_js=$('.jws-sale-time');if($tb_countdown_js.length>0){$tb_countdown_js.each(function(){var $this=$(this);var $countdown_time=$this.data('countdown');var $current_time=new Date().getTime();var $dateEnd=new Date($countdown_time*1000);if($countdown_time>$current_time){return}
setInterval(function(){var $current_time=new Date().getTime();var distance=$dateEnd-$current_time;var days=Math.floor(distance/(1000*60*60*24));var hours=Math.floor((distance%(1000*60*60*24))/(1000*60*60));var minutes=Math.floor((distance%(1000*60*60))/(1000*60));var seconds=Math.floor((distance%(1000*60))/1000);if(days<1){$this.html('<div class="jws-box-countdown"><span class="wrapper"><span>0</span> <p>'+$this.data('d')+'</p></span></div><span>:</span>'+'<div class="jws-box-countdown"><span class="wrapper"><span>0</span> <p>'+$this.data('h')+'</p></span></div><span>:</span>'+'<div class="jws-box-countdown"><span class="wrapper"><span>0</span> <p>'+$this.data('m')+'</p></span></div><span>:</span>'+'<div class="jws-box-countdown"><span class="wrapper"><span>0</span> <p>'+$this.data('s')+'</p></span></div>');return!1}
$this.html('<div class="jws-box-countdown"><span class="wrapper"><span>'+days+'</span> <p>'+$this.data('d')+'</p></span></div><span>:</span>'+'<div class="jws-box-countdown"><span class="wrapper"><span>'+hours+'</span> <p>'+$this.data('h')+'</p></span></div><span>:</span>'+'<div class="jws-box-countdown"><span class="wrapper"><span>'+minutes+'</span> <p>'+$this.data('m')+'</p></span></div><span>:</span>'+'<div class="jws-box-countdown"><span class="wrapper"><span>'+seconds+'</span> <p>'+$this.data('s')+'</p></span></div>')},1000)})}},single_product_js(){$('body.single-product').on('adding_to_cart',function(){var checkExist=setInterval(function(){if($('body > .woocommerce-error').length){if(!$('.jws-notices').length){$('body').append('<div class="jws-notices"></div>')}
var loc=$('body > .woocommerce-error').appendTo('.jws-notices').wrap('<div class="note-item"></div>');var loc_item=loc.closest('.note-item');loc_item.fadeIn(500);setTimeout(function(){loc_item.fadeOut(500)},3500);setTimeout(function(){loc_item.remove()},4000);clearInterval(checkExist)}},100);$('body').on('click','.note-close',function(){$(this).parent().fadeOut(500)})})},form_out_stock(){$(document).on('click','.ajax_add_to_cart',function(e){if(!$(this).find('.loader').length){$(this).append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}});$('.jws-waitlist-form').on('submit',function(e){e.preventDefault();var data=$(this).serialize();data+='&action=jws_waitlist_form';$('.note-output').remove();$(this).addClass('loading');if(!$(this).find('.loader').length){$(this).append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$.ajax({url:jws_script.ajax_url,data:data,type:'POST',dataType:'json',}).success(function(response){$('.jws-waitlist-register').append('<div class="note-output">'+response.note+'</div>');$('.jws-waitlist-form').removeClass('loading')}).error(function(ex){console.log(ex)})})},jws_woocommerce_checkout_medern:function(){var _apply_coupon=!1;$('body').on('change','.country_select',function(){$('.state_select').select2()});$('body').on('checkout_error',function(){jwsThemeWooModule.jws_move_valiate_notices()});$('body').on('jws_update_custommer_info',function(){$('body').trigger('update_checkout');if($('#jws-billing-info').length){var _email=$('input[name="billing_email"]').val();$('#jws-billing-info .customer-info-email .info-right').html(_email)}});$('body').on('click','.showcoupon',function(){if($('.woocommerce-error').length){$('.woocommerce-error').hide()}});$('body').on('click','.showcoupon-clone',function(){$('.coupon-clone-wrap').toggleClass('hidden');$('.coupon-clone-wrap').find(':input:eq(0)').trigger('focus')});$('body').on('click','#apply_coupon_clone',function(){if($('input[name="coupon_code_clone"]').length&&$('form.checkout_coupon input[name="coupon_code"]').length){$('.woocommerce-error, .woocommerce-message').hide();var _coupon=$('input[name="coupon_code_clone"]').val();$('form.checkout_coupon input[name="coupon_code"]').val(_coupon).change();$('form.checkout_coupon').trigger('submit');$('.woocommerce-checkout-review-order').addClass('processing')}})},jws_validate_form_checkout:function(){var _form=$('form.checkout');if(_form.length<=0){return!1}
var _diffirent=_form.find('[name="ship_to_different_address"]').is(':checked')?!0:!1;var _wrap=!_diffirent?_form.find('.woocommerce-billing-fields'):_form.find('#customer_details');_wrap.find('.form-row').each(function(){jwsThemeWooModule.jws_validate_field($(this))});return _wrap.find('.jws-invalid, .jws-error').length?!1:!0},jws_validate_field:function(_form_row){var $this=_form_row.find('.input-text, select, input:checkbox'),validated=!0,validate_required=_form_row.is('.validate-required'),validate_email=_form_row.is('.validate-email'),validate_phone=_form_row.is('.validate-phone'),pattern='',_note='';_form_row.removeClass('jws-invalid');if(validate_required){if('checkbox'===$this.attr('type')&&!$this.is(':checked')){_form_row.removeClass('woocommerce-validated').addClass('woocommerce-invalid woocommerce-invalid-required-field');validated=!1;if(_form_row.find('.jws-error').length<=0){_note=$('.jws-require-notice').html();$this.after('<span class="jws-error">'+_note+'</span>')}}else if($this.val()===''){_form_row.removeClass('woocommerce-validated').addClass('woocommerce-invalid woocommerce-invalid-required-field');validated=!1;if(_form_row.find('.jws-error').length<=0){_note=$('.jws-require-notice').html();$this.after('<span class="jws-error">'+_note+'</span>')}}}
if(validate_email){if($this.val()){pattern=new RegExp(/^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i);if(!pattern.test($this.val())){_form_row.removeClass('woocommerce-validated').addClass('woocommerce-invalid woocommerce-invalid-email woocommerce-invalid-phone');validated=!1;if(_form_row.find('.jws-error').length<=0){_note=$('.jws-email-notice').html();$($this).after('<span class="jws-error">'+_note+'</span>')}}}}
if(validate_phone){pattern=new RegExp(/[\s\#0-9_\-\+\/\(\)\.]/g);if(0<$this.val().replace(pattern,'').length){_form_row.removeClass('woocommerce-validated').addClass('woocommerce-invalid woocommerce-invalid-phone');validated=!1;if(_form_row.find('.jws-error').length<=0){_note=$('.jws-phone-notice').html();$($this).after('<span class="jws-error">'+_note+'</span>')}}}
if(validated){_form_row.removeClass('woocommerce-invalid woocommerce-invalid-required-field woocommerce-invalid-email woocommerce-invalid-phone').addClass('woocommerce-validated');_form_row.find('.jws-error').remove()}else{_form_row.addClass('jws-invalid')}
return validated},jws_clone_notices_coupon:function(){var _notice=$('.woocommerce-error, .woocommerce-message');if($(_notice).length){$('.woocommerce-error, .woocommerce-message').each(function(){var _this=$(this);$('.coupon-clone-wrap').after(_this)});$('.woocommerce-error, .woocommerce-message').show()}},jws_move_valiate_notices:function(){var _billing=!1;if($('.woocommerce-error li').length){$('.woocommerce-error li').each(function(){var _li=$(this);var _this=_li.attr('data-id');if(typeof _this!=='undefined'&&$('#'+_this).length){var _wrap=$('#'+_this).parents('.form-row');if(_wrap.length){var _appent=$(_li).html();if(_wrap.find('.jws-error').length){_wrap.find('.jws-error').html(_appent)}else{$('#'+_this).after('<span class="jws-error">'+_appent+'</span>')}
if(!_wrap.hasClass('woocommerce-invalid')){_wrap.removeClass('woocommerce-validated');_wrap.addClass('woocommerce-invalid')}
$(_li).remove();_billing=!0}}});if($('.woocommerce-error li').length){$('.woocommerce-error').show()}else{$('.woocommerce-error').hide()}}},change_quantity_discount:function(){$(document).on("change",'input[name="quantity_discount"]',function(){var $this=$(this),$value=$this.val(),$qty=$this.parents(".product").find(".quantity .qty");$qty.val($value)})},countdown_single:function(){$('.count_down').each(function(){var $coundown=$(this).find('.countdown')});setTimeout(function(){$('.progress-bar-sold').addClass('active')},1000)},jws_tigger_function:function(variations_global){$('body').on('click','.product_type_variation',function(e){var _this=$(this),_variation=null,_data='';_data+='product_id='+_this.data('product_id');_data+='&quantity='+_this.data('quantity');_data+='&variation_id='+_this.attr('data-attr_id');_data+='&add-to-cart='+_this.data('product_id');console.log(_this.data('variation'));if(typeof $(_this).attr('data-variation')!=='undefined'){_variation=JSON.parse($(_this).attr('data-variation'))}
if(_variation){for(var k in _variation){_data+='&'+k+'='+_variation[k]}}else{var _href=$(_this).attr('href');window.location.href=_href}
e.preventDefault();jwsThemeWooModule.single_add_to_cart(_this,_data)});setTimeout(function(){if($('.jws-attr-swatches').length){$('.jws-attr-swatches').each(function(){var _this=$(this);jwsThemeWooModule.jws_load_select_attr(_this)})}},100)},jws_load_select_attr:function(variations_global){var variations=JSON.parse($(variations_global).attr('data-variations')),product_item=$(variations_global).parents('.product-item-inner'),count_attr=$(product_item).find('.jws-attr-content').length,selected_count=$(product_item).find('.jws-attr-content .selected').length,add_to_cat_btn=$(product_item).find('.add_to_cart_button'),main_image=$(product_item).find('.woocommerce-loop-product__link > img'),gallery_image=$(product_item).find('.gallery img'),old_image=main_image.attr('old_src'),old_image_gallery=gallery_image.attr('old_src'),selected_attr=[],variation={},attr_val=null,attr_selected=[],attr_name=null,variation_end=null,finded=!1,selected_attr=[],i;$(variations_global).find('.selected').each(function(){var $this=$(this);attr_val=$this.data('value');attr_name='attribute_'+$this.data('type');attr_selected={'key':attr_name,'value':attr_val};variation[attr_name]=attr_val;selected_attr.push(attr_selected)});if(count_attr!==selected_count){if(typeof old_image!=='undefined'){main_image.attr('src',old_image)}
if(typeof old_image_gallery!=='undefined'){gallery_image.attr('src',old_image_gallery)}}else{for(i in variations){var total_attr=0,attrs=variations[i].attributes;for(var k in attrs){total_attr++}
for(var k_select in selected_attr){if(attrs[selected_attr[k_select].key]===''||attrs[selected_attr[k_select].key]===selected_attr[k_select].value){finded=!0}else{finded=!1;break}}
if(finded){variation_end=variations[i];break}};if(variation_end&&count_attr==total_attr){if(typeof old_image==='undefined'){$(main_image).attr('old_src',$(main_image).attr('src'))}
if($(gallery_image).length&&typeof old_image_gallery==='undefined'){$(gallery_image).attr('old_src',$(gallery_image).attr('src'))}
$(main_image).attr('src',variation_end.image.src);$(main_image).removeAttr('srcset');if(gallery_image.length){if(typeof variation_end.jws_variation_img==='undefined'){$(gallery_image).attr('src',variation_end.image.src);$(gallery_image).removeAttr('srcset')}else{$(gallery_image).attr('src',variation_end.jws_variation_img)}
$(gallery_image).removeAttr('srcset')}
if(variation_end.price_html){$(product_item).find('.price-item').html(variation_end.price_html)}else{$(product_item).find('.price-item').html('')}
var add_cart_text=jws_script.add_to_cart_text;add_to_cat_btn.html(add_cart_text);add_to_cat_btn.attr('title',add_cart_text);var variObj={};for(var attr_pa in variation_end.attributes){variObj[attr_pa]=variation[attr_pa];console.log(variation[attr_pa])}
add_to_cat_btn.attr('data-attr_id',variation_end.variation_id).removeClass('product_type_variable').addClass('product_type_variation').attr('data-variation',JSON.stringify(variObj))}else{if(typeof old_image==='undefined'){$(main_image).attr('old_src',$(main_image).attr('src'))}
if($(gallery_image).length&&typeof old_image_gallery==='undefined'){$(gallery_image).attr('old_src',$(gallery_image).attr('src'))}
$(main_image).attr('src',variations[i].image.src);$(main_image).removeAttr('srcset');if(gallery_image.length){if(typeof variations[i].jws_variation_img==='undefined'){$(gallery_image).attr('src',variations[i].image.src);$(gallery_image).removeAttr('srcset')}else{$(gallery_image).attr('src',variations[i].jws_variation_img)}
$(gallery_image).removeAttr('srcset')}}}},jwsproductAttribute:function(){$(document.body).on('click','.jws-swatch-variation-image',function(e){e.preventDefault();var variations_global=$(this).parents('.jws-attr-swatches');$(this).siblings('.jws-swatch-variation-image').removeClass('selected');$(this).toggleClass('selected');jwsThemeWooModule.jws_load_select_attr(variations_global)})},single_add_to_cart:function($thisbutton,_data){var data=_data;data+='&action=jws_ajax_add_to_cart';if($thisbutton.val()){data+='&add-to-cart='+$thisbutton.val()}
$thisbutton.removeClass('added not-added');$thisbutton.addClass('loading');if(!$thisbutton.find('.loader').length){$thisbutton.append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$(document.body).trigger('adding_to_cart',[$thisbutton,data]);$.ajax({url:jws_script.ajax_url,data:data,method:'POST',success:function(response){if(!response){return}
var this_page=window.location.toString();this_page=this_page.replace('add-to-cart','added-to-cart');if(response.error&&response.product_url){window.location=response.product_url;return}
if(wc_add_to_cart_params.cart_redirect_after_add==='yes'){window.location=wc_add_to_cart_params.cart_url;return}else{$thisbutton.removeClass('loading');$('.jws-mini-cart-wrapper').removeClass('acttive');var fragments=response.fragments;var cart_hash=response.cart_hash;if(fragments){$.each(fragments,function(key){$(key).addClass('updating')})}
if(fragments){$.each(fragments,function(key,value){$(key).replaceWith(value)})}
if(response.notices.indexOf('error')>0){$('body').append(response.notices);$thisbutton.addClass('not-added')}else{$thisbutton.addClass('added');$(document.body).trigger('added_to_cart',[fragments,cart_hash,$thisbutton])}}},error:function(){console.log('ajax adding to cart error')},complete:function(){},})},addToCartAllTypes:function(){$('body').on('submit','.main-product form.cart:not(.external_form)',function(e){e.preventDefault();var $form=$(this),$thisbutton=$form.find('.single_add_to_cart_button'),_data=$form.serialize();jwsThemeWooModule.single_add_to_cart($thisbutton,_data)})},shop_sidebar:function(){$('.toggle-shop-sidebar').on('click',function(){$('.shop-sidebar').toggleClass('active')});$(document).on("click",function(e){if($(e.target).is(".shop-sidebar,.shop-sidebar *,.toggle-shop-sidebar,.toggle-shop-sidebar *")===!1){$('.shop-sidebar').removeClass('active')}})},related_slider:function(){$('.cross-sells-slider').not('.slick-initialized').slick({swipeToSlide:!0,arrows:!1,autoplay:!0,dots:!1});$('.related-slider').not('.slick-initialized').slick({swipeToSlide:!0,prevArrow:'<span class="jws-carousel-btn prev-item"><i aria-hidden="true" class="ion-ios-arrow-thin-left"></i></span>',nextArrow:'<span class="jws-carousel-btn next-item "><i aria-hidden="true" class="ion-ios-arrow-thin-right"></i></span>',})},jws_product_popup:function(){$('.jws-popup-woo').magnificPopup({type:'inline',removalDelay:500,mainClass:'mfp-zoom-in mfp-img-mobile',midClick:!0})},jws_product_tabs_block:function(){if($('.woocommerce-tabs').hasClass('tabs_modal')){$('.jws-group-accordion-wap').appendTo('body').wrap('<div class="tabs-modal-container"></div>');$('.tabs-modal-container').append('<span class="overlay"></span><span class="close ion-android-close"></span>');$(document).on('click','.tabs li a',function(){$('.tabs-modal-container').addClass('active')});$(document).on('click','.tabs-modal-container .overlay , .tabs-modal-container .close',function(){$('.tabs-modal-container').removeClass('active')})}
$('.accordion-active .wc-tab').show();$(document).on('click','.tabs li a',function(){$('.jws-group-accordion.accordion-active').removeClass('accordion-active');$($(this).attr('href')).closest('.jws-group-accordion').addClass('accordion-active')});$(document).on('click','.jws-group-accordion .tab-heading',function(){let tab_is_activated=$(this).closest('.accordion-active')[0];$('.woocommerce-tabs .accordion-active .wc-tab').slideUp();$('.woocommerce-tabs .accordion-active').removeClass('accordion-active');if(!tab_is_activated){$(this).closest('.jws-group-accordion').toggleClass('accordion-active');$(this).next('.wc-tab').slideToggle();if($('.woocommerce-tabs .tabs.wc-tabs')[0]){let id=$(this).next('.wc-tab').attr('id');$('.woocommerce-tabs .tabs.wc-tabs .active').removeClass('active');$('.woocommerce-tabs .tabs.wc-tabs a[href="#'+id+'"]').parent().addClass('active')}}});$('.form-questions').on('submit',function(e){e.preventDefault();var data=$(this).serialize();data+='&action=jws_add_question';data+='&product_id='+$(this).data('product')+'';$('.error').remove();$(this).addClass('loading');if(!$(this).find('.loader').length){$(this).find('button').append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$.ajax({url:jws_script.ajax_url,data:data,type:'POST',dataType:'json',}).success(function(response){if(response.status=='error'){$('.form-questions').append('<div class="error">'+response.note+'</div>')}else{location.reload(!0)}
$('.form-questions').removeClass('loading')}).error(function(ex){console.log(ex)})});if($('#answer-question-list').attr('data_question_url')){var load_pagination=$('#answer-question-list').attr('data_question_url')+'?product_questions='+$('#answer-question-list').attr('data_product_id')+'';if('?'==load_pagination.slice(-1)){load_pagination=load_pagination.slice(0,-1)}
load_pagination=load_pagination.replace(/%2C/g,',');$.get(load_pagination,function(res){$('#answer-question-list .jws-pagination-number').html($(res).find('.jws-pagination-number').html())},'html')}
$(document.body).on('click','#answer-question-list .jws-pagination-number a',function(e){e.preventDefault();if(!$(this).parents('#answer-question-list').find('.loader').length){$(this).parents('#answer-question-list').append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$('#answer-question-list').addClass('loading');setTimeout(function(){$('html,body').animate({scrollTop:$(".tabs_review_nav").offset().top-120},600)},100);var url=$(this).attr('href');if('?'==url.slice(-1)){url=url.slice(0,-1)}
url=url.replace(/%2C/g,',');$.get(url,function(res){console.log(res);$('#answer-question-list .jws-pagination-number').html($(res).find('.jws-pagination-number').html());$('#answer-question-list > ul').html($(res).find('> ul').html());$('#answer-question-list').removeClass('loading')},'html')});$(document.body).on('click','#comments .jws-pagination-number a',function(e){e.preventDefault();if(!$(this).parents('#comments').find('.loader').length){$(this).parents('#comments').append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
$('#comments').addClass('loading');setTimeout(function(){$('html,body').animate({scrollTop:$(".tabs_review_nav").offset().top-120},600)},100);var url=$(this).attr('href');if('?'==url.slice(-1)){url=url.slice(0,-1)}
url=url.replace(/%2C/g,',');$.get(url,function(res){$('#comments .jws-pagination-number').html($(res).find('#comments .jws-pagination-number').html());$('#comments > .commentlist').html($(res).find('#comments > .commentlist').html());$('#comments').removeClass('loading')},'html')})},woocommerceCategoryWidget:function(){$('.product-categories .cat-parent ').append("<span class='cat_btn lnr lnr-chevron-down'></span>");$("body").on("click",".product-categories .cat-parent > .cat_btn",function(e){var t=$(this).parent(),n=$(t).parent();if($(t).hasClass("active"))$(t).find("> ul").slideUp(200).parent().removeClass("active");else{var s=$(n).children("li.active");$(s).removeClass("active").children("ul").css({height:"auto"}).slideUp(200),$(t).children("ul").slideDown(200).parent().addClass("active")}
return!1})},mobile_shop_filter:function(){$('.sidebar-mobile a').magnificPopup({type:'inline',mainClass:'',midClick:!0,callbacks:{beforeOpen:function(){this.st.mainClass='shop-sidebar-click sidebar-mobile-wap'},afterClose:function(){$('.shop-sidebar').removeClass('mfp-hide')}},})},swatchesVariations:function(){if(typeof $.fn.owlCarousel!=='function'){return}
var $variation_forms=$('.variations_form'),variationGalleryReplace=!1;$('.variations_form .label').on('click',function(e){if($(this).siblings('.value').hasClass('with-swatches')){e.preventDefault()}});$variation_forms.each(function(){var $variation_form=$(this);if($variation_form.data('swatches'))return;$variation_form.data('swatches',!0);if(!$variation_form.data('product_variations')){$variation_form.find('.swatches-select').find('> div').addClass('swatch-enabled')}
if($('.swatches-select > div').hasClass('active-swatch')){$variation_form.addClass('variation-swatch-selected')}
$variation_form.on('click','.swatches-select > div',function(){var value=$(this).data('value');var id=$(this).parent().data('id');$variation_form.trigger('check_variations',['attribute_'+id,!0]);resetSwatches($variation_form);if($(this).hasClass('active-swatch')){return}
if($(this).hasClass('swatch-disabled'))return;$variation_form.find('select#'+id).val(value).trigger('change');$(this).parent().find('.active-swatch').removeClass('active-swatch');$(this).addClass('active-swatch');resetSwatches($variation_form)}).on('click','.reset_variations',function(event){$variation_form.find('.active-swatch').removeClass('active-swatch')}).on('reset_data',function(){replaceMainGallery('default',$variation_form);$('.text_vari').remove();var all_attributes_chosen=!0;var some_attributes_chosen=!1;$variation_form.find('.variations select').each(function(){var attribute_name=$(this).data('attribute_name')||$(this).attr('name');var value=$(this).val()||'';if(value.length===0){all_attributes_chosen=!1}else{some_attributes_chosen=!0}});if(all_attributes_chosen){$(this).parent().find('.active-swatch').removeClass('active-swatch')}
$variation_form.removeClass('variation-swatch-selected');var $mainOwl=$('.woocommerce-product-gallery__wrapper.owl-carousel'),$slider_wap=$('.woocommerce-product-gallery');resetSwatches($variation_form);if(!isQuickShop($variation_form)){scrollToTop()}
if(!$mainOwl.hasClass('owl-carousel'))return;if($slider_wap.hasClass('image_slider_center')){$mainOwl=$mainOwl.owlCarousel({center:!0,loop:!0,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],responsive:{979:{items:3},768:{items:3},479:{items:1,center:!1},0:{items:1,center:!1}},})}else{$mainOwl=$mainOwl.owlCarousel({loop:!1,margin:10,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],items:1,smartSpeed:500,})}
$mainOwl.trigger('refresh.owl.carousel');$mainOwl.trigger('to.owl.carousel',0)}).on('reset_image',function(){var $thumb=$('.thumbnails .product-image-thumbnail img').first();if(!isQuickView()&&!isQuickShop($variation_form)){$thumb.wc_reset_variation_attr('src')}}).on('show_variation',function(e,variation,purchasable){if(!variation.image.src){}
if(isQuickView()){var galleryHasImage=$variation_form.parents('.single-product-content').find('.thumbnails .product-image-thumbnail img[data-o_src="'+variation.image.thumb_src+'"]').length>0;var $firstThumb=$variation_form.parents('.single-product-content').find('.thumbnails .product-image-thumbnail img').first()}else{var galleryHasImage=$variation_form.parents('body').find('.thumbnails .product-image-thumbnail img[data-o_src="'+variation.image.thumb_src+'"]').length>0;var $firstThumb=$variation_form.parents('body').find('.thumbnails .product-image-thumbnail img').first()}
if(galleryHasImage){$firstThumb.wc_reset_variation_attr('src')}
if(!isVariationGallery(variation.variation_id)){replaceMainGallery('default',$variation_form)}else{if(!isQuickShop($variation_form)&&!replaceMainGallery(variation.variation_id,$variation_form)){if($firstThumb.attr('src')!=variation.image.thumb_src){$firstThumb.wc_set_variation_attr('src',variation.image.src)}
jwsThemeWooModule.initZoom()}}
$variation_form.addClass('variation-swatch-selected');if(!isQuickShop($variation_form)&&!isQuickView()){scrollToTop()}
var $mainOwl=$('.woocommerce-product-gallery__wrapper.owl-carousel'),$slider_wap=$('.woocommerce-product-gallery');if(!$mainOwl.hasClass('owl-carousel'))return;$variation_form.addClass('variation-swatch-selected');if(!isQuickShop($variation_form)){scrollToTop()}
if(!$mainOwl.hasClass('owl-carousel'))return;$mainOwl.trigger('destroy.owl.carousel');if($slider_wap.hasClass('image_slider_center')){$mainOwl=$mainOwl.owlCarousel({center:!0,loop:!0,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],responsive:{979:{items:3},768:{items:3},479:{items:1,center:!1},0:{items:1,center:!1}},})}else{$mainOwl=$mainOwl.owlCarousel({loop:!1,margin:10,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],items:1,smartSpeed:500,})}
$mainOwl.trigger('refresh.owl.carousel');var $thumbs=$('.images .thumbnails');$mainOwl.trigger('to.owl.carousel',0);if($thumbs.hasClass('owl-carousel')){$thumbs.owlCarousel().trigger('to.owl.carousel',0);$thumbs.find('.active-thumb').removeClass('active-thumb');$thumbs.find('.product-image-thumbnail').eq(0).addClass('active-thumb')}else if($thumbs.hasClass('slick-slider')){$thumbs.slick('slickGoTo',0);if(!$thumbs.find('.product-image-thumbnail').eq(0).hasClass('active-thumb')){$thumbs.find('.active-thumb').removeClass('active-thumb');$thumbs.find('.product-image-thumbnail').eq(0).addClass('active-thumb')}}})})
var resetSwatches=function($variation_form){if(!$variation_form.data('product_variations'))return;$variation_form.find('.variations select').each(function(){var select=$(this);var swatch=select.parent().find('.swatches-select');var options=select.html();options=$(options);swatch.find('> div').removeClass('swatch-enabled').addClass('swatch-disabled');options.each(function(el){var value=$(this).val();if($(this).hasClass('enabled')){swatch.find('div[data-value="'+value+'"]').removeClass('swatch-disabled').addClass('swatch-enabled')}else{swatch.find('div[data-value="'+value+'"]').addClass('swatch-disabled').removeClass('swatch-enabled')}})})};var scrollToTop=function(){if(!$('body').hasClass('smartsoftduct-design-sticky')||!$('.entry-summary').hasClass('block-sticked')||$(window).width()<=1024)return;$('html, body').animate({scrollTop:$('.product-image-summary').offset().top-150},800)}
var isQuickShop=function($form){return $form.parent().hasClass('quick-shop-form')};var isQuickView=function(){return $('.single-product-content').hasClass('product-quick-view')};var isVariationGallery=function(key){var variation_gallery_data=isQuickView()?'':jws_variation_gallery_data;return typeof variation_gallery_data!=='undefined'&&variation_gallery_data&&variation_gallery_data[key]};var replaceMainGallery=function(key,$variationForm){var variation_gallery_data=isQuickView()?'':jws_variation_gallery_data;if(!isVariationGallery(key)||isQuickShop($variationForm)){return!1}
var imagesData=variation_gallery_data[key];if(isQuickView()){var $mainGallery=$variationForm.parents('.single-product-content').find('.woocommerce-product-gallery__wrapper')}else{var $mainGallery=$variationForm.parents('body').find('.woocommerce-product-gallery__wrapper')}
$mainGallery.empty();for(var index=0;index<imagesData.length;index++){var $html='<div class="product-image-wrap"><figure data-thumb="'+imagesData[index].data_thumb+'" class="woocommerce-product-gallery__image">';if(!isQuickView()){$html+='<a href="'+imagesData[index].href+'">'}
$html+=imagesData[index].image;if(!isQuickView()){$html+='</a>'}
$html+='</figure></div>';$mainGallery.append($html)}
jwsThemeWooModule.productImagesGallery();jwsThemeWooModule.quickViewCarousel();$('.woocommerce-product-gallery__image').trigger('zoom.destroy');if(!isQuickView()){jwsThemeWooModule.initZoom()}
return!0}},productImagesGallery:function(){if(typeof $.fn.owlCarousel!=='function'){return}
var $thumbs=$('.images .thumbnails'),$mainOwl=$('.woocommerce-product-gallery__wrapper:not(.quick-view-gallery)'),$slider_wap=$('.main-product'),$mainGallery=$('.woocommerce-product-gallery__wrapper:not(.quick-view-gallery)');if($slider_wap.hasClass('layout_gid_two_coloms')){return!1}
if($slider_wap.hasClass('resize-slider-mobile')&&$(window).width()<767){initMainGallery()}
if(!$slider_wap.hasClass('resize-slider-mobile')){initMainGallery();initThumbnailsMarkup();if(($slider_wap.hasClass('thumbnail_position_left')||$slider_wap.hasClass('thumbnail_position_right'))&&jQuery(window).width()>1024){initThumbnailsVertical()}else{initThumbnailsHorizontal()}}
function initMainGallery(){$mainGallery.trigger('destroy.owl.carousel');if($slider_wap.hasClass('image_slider_center')){$mainGallery.addClass('owl-carousel').owlCarousel({center:!0,loop:!0,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],responsive:{979:{items:3},768:{items:3},479:{items:1,center:!1},0:{items:1,center:!1}},})}else{$mainGallery.addClass('owl-carousel').owlCarousel({loop:!1,margin:0,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],items:1,smartSpeed:500,})}};function initThumbnailsMarkup(){var markup='';$mainGallery.find('.woocommerce-product-gallery__image').each(function(){var image=$(this).data('thumb'),alt=$(this).find('a > img').attr('alt'),title=$(this).find('a > img').attr('title');if($(this).hasClass('video_inner')){markup+='<div class="product-image-thumbnail"><div class="video_thumbnail"><iframe class="slide-media" src="'+$('.slide-media').attr('src')+'"></iframe></div></div>'}else{markup+='<div class="product-image-thumbnail"><img alt="'+alt+'" title="'+title+'" src="'+image+'" /></div>'}});if($thumbs.hasClass('slick-slider')){$thumbs.slick('unslick')}else if($thumbs.hasClass('owl-carousel')){$thumbs.trigger('destroy.owl.carousel')}
$thumbs.empty();$thumbs.append(markup);var comand={"method":"pause","value":1,};if($('.has_video').hasClass('youtube')){var comand={"event":"command","func":"pauseVideo"}}
if($('.has_video').hasClass('inner')){setTimeout(function(){$thumbs.find('.slide-media').get(0).contentWindow.postMessage(JSON.stringify(comand),"*")},2000)}};function initThumbnailsHorizontal(){var item=4;if($('.thumbnail_position_bottom2').length){item=3}
$thumbs.addClass('owl-carousel').owlCarousel({rtl:$('body').hasClass('rtl'),items:item,responsive:{979:{items:item},768:{items:3},479:{items:3},0:{items:3}},dots:!1,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],});var $thumbsOwl=$thumbs.owlCarousel();$thumbs.on('click','.owl-item',function(e){var i=$(this).index();$thumbsOwl.trigger('to.owl.carousel',i);$mainOwl.trigger('to.owl.carousel',i)});$mainOwl.on('changed.owl.carousel',function(e){var i=e.item.index;$thumbsOwl.trigger('to.owl.carousel',i);$thumbs.find('.active-thumb').removeClass('active-thumb');$thumbs.find('.owl-item').eq(i).addClass('active-thumb')});$thumbs.find('.owl-item').eq(0).addClass('active-thumb')};function initThumbnailsVertical(){$thumbs.slick({slidesToShow:4,slidesToScroll:1,vertical:!0,verticalSwiping:!0,infinite:!1,focusOnSelect:!0,swipeToSlide:!0,});$thumbs.on('click','.product-image-thumbnail',function(e){$thumbs.find('.product-image-thumbnail').closest('.slick-slide').removeClass('slick-active');$(this).closest('.slick-slide').addClass('slick-active slick-current');var i=$(this).closest('.slick-slide').data('slick-index');$mainOwl.trigger('to.owl.carousel',i)});$mainOwl.on('changed.owl.carousel',function(e){var i=e.item.index;$thumbs.find('.product-image-thumbnail').closest('.slick-slide').removeClass('slick-active');$thumbs.find('.slick-slide[data-slick-index="'+i+'"]').addClass('slick-active slick-current')});$thumbs.find('.slick-slide[data-slick-index="0"]').addClass('slick-active slick-current')}},initZoom:function(){var $mainGallery=$('.woocommerce-product-gallery__wrapper:not(.quick-view-gallery)');$mainGallery.find('.product-image-wrap').each(function(){var $wrapper=$(this).find('.woocommerce-product-gallery__image');var image=$wrapper.find('img');var zoomOptions={touch:!1};if('ontouchstart' in window){zoomOptions.on='click'}
if(image.data('large_image_width')>$(this).width()){$wrapper.trigger('zoom.destroy');$wrapper.zoom(zoomOptions)}})},productImages:function(){if($('.product-video-popup').length>0){$('.action-popup-url').magnificPopup({disableOn:0,type:'iframe',removalDelay:360,callbacks:{beforeOpen:function(){this.st.mainClass='quick-view-main'},},})}
var currentImage,$productGallery=$('.woocommerce-product-gallery'),$mainImages=$('.woocommerce-product-gallery__wrapper'),$thumbs=$productGallery.find('.thumbnails'),currentClass='current-image',PhotoSwipeTrigger='.jws-show-product-gallery';$thumbs.addClass('thumbnails-ready');if($productGallery.hasClass('image-action-popup')){PhotoSwipeTrigger+=', .woocommerce-product-gallery__image a';PhotoSwipeTrigger+=', .woocommerce-product-gallery__image .zoomImg'}
$productGallery.on('click','.woocommerce-product-gallery__image a',function(e){e.preventDefault()});$productGallery.on('click',PhotoSwipeTrigger,function(e){e.preventDefault();currentImage=$(this).attr('href');var items=getProductItems();jwsThemeWooModule.callPhotoSwipe(getCurrentGalleryIndex(e),items)});var getCurrentGalleryIndex=function(e){if($mainImages.hasClass('owl-carousel')&&!$productGallery.hasClass('image_slider_center'))
return $mainImages.find('.owl-item.active').index();else if($productGallery.hasClass('image_slider_center'))return $(e.currentTarget).parent().parent().parent().index();else return $(e.currentTarget).parent().parent().index()};var getProductItems=function(){var items=[];$mainImages.find('figure a img').each(function(){var src=$(this).attr('data-large_image'),width=$(this).attr('data-large_image_width'),height=$(this).attr('data-large_image_height'),caption=$(this).data('caption');items.push({src:src,w:width,h:height,})});return items};if($productGallery.hasClass('image-action-zoom')){var zoom_target=$('.woocommerce-product-gallery__image');var image_to_zoom=zoom_target.find('img');if(image_to_zoom.attr('width')>$('.woocommerce-product-gallery').width()){zoom_target.trigger('zoom.destroy');zoom_target.zoom({touch:!1})}}},callPhotoSwipe:function(index,items){var pswpElement=document.querySelectorAll('.pswp')[0];if($('body').hasClass('rtl')){index=items.length-index-1;items=items.reverse()}
var options={index:index,shareButtons:[{id:'facebook',label:'Share on Facebook',url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},{id:'twitter',label:'Tweet',url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},{id:'pinterest',label:'Pin it',url:'http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}'},{id:'download',label:'Download image',url:'{{raw_image_url}}',download:!0}],};var gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init()},quickViewInit:function(){$(document).on('click','.quickview-button',function(e){e.preventDefault();var productId=$(this).data('product_id'),loopName=$(this).data('loop-name'),closeText='close_view',loadingText='loading_view',loop=$(this).data('loop'),prev='',next='',loopBtns=$('.quick-view').find('[data-loop-name="'+loopName+'"]'),btn=$(this);if(!btn.find('.loader').length){btn.append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>')}
btn.addClass('loading');if(typeof loopBtns[loop-1]!='undefined'){prev=loopBtns.eq(loop-1).addClass('quick-view-prev');prev=$('<div>').append(prev.clone()).html()}
if(typeof loopBtns[loop+1]!='undefined'){next=loopBtns.eq(loop+1).addClass('quick-view-next');next=$('<div>').append(next.clone()).html()}
jwsThemeWooModule.quickViewLoad(productId,btn,prev,next,closeText,loadingText)})},quickViewLoad:function(id,btn,prev,next,closeText,loadingText){var data={id:id,action:"jws_ajax_load_product_quickview",};$.ajax({url:jws_script.ajax_url,data:data,method:'get',success:function(data){$.magnificPopup.open({items:{src:'<div id="jws-quickview" class="mfp-with-anim popup-quick-view">'+data+'</div>',type:'inline'},tClose:closeText,tLoading:loadingText,removalDelay:360,callbacks:{beforeOpen:function(){this.st.mainClass='quick-view-main'},open:function(){$('.popup-quick-view').find('.variations_form').each(function(){if(typeof wc_add_to_cart_variation_params!=='undefined'){$(this).wc_variation_form();$(this).find('.variations select').change()}
if(typeof $.fn.tawcvs_variation_swatches_form!=='undefined'){$(this).tawcvs_variation_swatches_form()}});$('select').select2();$('.variations_form').trigger('wc_variation_form');$('body').trigger('jws-quick-view-displayed');jwsThemeWooModule.quickViewCarousel();jwsThemeWooModule.swatchesVariations()}},})},complete:function(){btn.removeClass('loading')},error:function(){},})},quickViewCarousel:function(){$('#jws-quickview .woocommerce-product-gallery__wrapper').trigger('destroy.owl.carousel');$('#jws-quickview .woocommerce-product-gallery__wrapper').addClass('owl-carousel').owlCarousel({loop:!1,margin:10,nav:!0,navText:["<span class='nav-left'></span>","<span class='nav-right'></span>"],items:1})},priceSlider:function(){if(typeof woocommerce_price_slider_params==='undefined'){return!1}
if($('body').find('.price_slider_wrapper').length<=0){return!1}
$('input#min_price, input#max_price').hide();$('.price_slider, .price_label').show();var min_price=$('.price_slider_amount #min_price').data('min'),max_price=$('.price_slider_amount #max_price').data('max'),current_min_price=parseInt(min_price,10),current_max_price=parseInt(max_price,10);if($('.price_slider_amount #min_price').val()!=''){current_min_price=parseInt($('.price_slider_amount #min_price').val(),10)}
if($('.price_slider_amount #max_price').val()!=''){current_max_price=parseInt($('.price_slider_amount #max_price').val(),10)}
$(document.body).bind('price_slider_create price_slider_slide',function(event,min,max){if(woocommerce_price_slider_params.currency_pos==='left'){$('.price_slider_amount span.from').html(woocommerce_price_slider_params.currency_symbol+min);$('.price_slider_amount span.to').html(woocommerce_price_slider_params.currency_symbol+max)}else if(woocommerce_price_slider_params.currency_pos==='left_space'){$('.price_slider_amount span.from').html(woocommerce_price_slider_params.currency_symbol+' '+min);$('.price_slider_amount span.to').html(woocommerce_price_slider_params.currency_symbol+' '+max)}else if(woocommerce_price_slider_params.currency_pos==='right'){$('.price_slider_amount span.from').html(min+woocommerce_price_slider_params.currency_symbol);$('.price_slider_amount span.to').html(max+woocommerce_price_slider_params.currency_symbol)}else if(woocommerce_price_slider_params.currency_pos==='right_space'){$('.price_slider_amount span.from').html(min+' '+woocommerce_price_slider_params.currency_symbol);$('.price_slider_amount span.to').html(max+' '+woocommerce_price_slider_params.currency_symbol)}
$(document.body).trigger('price_slider_updated',[min,max])});if(typeof $.fn.slider!=='undefined'){$('.price_slider').slider({range:!0,animate:!0,min:min_price,max:max_price,values:[current_min_price,current_max_price],create:function(){$('.price_slider_amount #min_price').val(current_min_price);$('.price_slider_amount #max_price').val(current_max_price);$(document.body).trigger('price_slider_create',[current_min_price,current_max_price])},slide:function(event,ui){$('input#min_price').val(ui.values[0]);$('input#max_price').val(ui.values[1]);$(document.body).trigger('price_slider_slide',[ui.values[0],ui.values[1]])},change:function(event,ui){$(document.body).trigger('price_slider_change',[ui.values[0],ui.values[1]])}})}},filterAjax:function(){var autoload=!0,$shopTopbar=$('#jws-shop-topbar');$(window).on('resize scroll',function(){if($('.auto_load_more').length&&$('.auto_load_more').isInViewport()&&autoload){autoload=!1;$('.auto_load_more').trigger("click")}});$(document.body).on('click','.woocommerce-pagination .jws-products-load-more',function(e){e.preventDefault();var intervalID;clearInterval(intervalID);$('.jws-products-load-more').append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>');$('.jws-products-load-more , .spinner').addClass('loading');var url=$(this).attr('href');if('?'==url.slice(-1)){url=url.slice(0,-1)}
url=url.replace(/%2C/g,',');var total=$('.products-wrap').find('.product-item').length;$('.products-wrap').find('.product-item').addClass('jws-animated');$('.products-wrap').addClass('jws-animated-products');$.get(url,function(res){var content=$(res).find('.products-wrap .products').html();var iter=total;$('.products-wrap .products').append(content);intervalID=setInterval(function(){$('.products-wrap').find('.product-item').eq(iter).addClass('jws-animated');iter++},100);autoload=!0;$('#jws-shop-topbar').html($(res).find('#jws-shop-topbar').html());$('.siderbar-inner').html($(res).find('.siderbar-inner').html());$('.woocommerce-pagination').html($(res).find('.woocommerce-pagination').html());$('.filter-shop-nav').html($(res).find('.filter-shop-nav').html());$('.shop-filter-actived').html($(res).find('.shop-filter-actived').html());$('.woocommerce-result-count').html($(res).find('.woocommerce-result-count').html());$('select').select2();jwsThemeWooModule.jws_theme_countdown();jwsThemeWooModule.priceSlider()},'html')});$(document).on('click','.show_filter_shop',function(){$(this).toggleClass('active');$('.jws-filter-modal').fadeIn().addClass('open');$('.sidebar-sideout').addClass('opened').toggleClass('open');$('.shop-sidebar').toggleClass('show');if($(this).hasClass('active')){$shopTopbar.slideDown(500)}else{$shopTopbar.slideUp(200)}});$(document).on('click','.modal-close , .modal-overlay',function(){$('.jws-filter-modal').fadeOut().removeClass('open');$('.show_filter_shop').removeClass('active')});$(document.body).on('submit','.woocommerce-ordering',function(e){e.preventDefault()});$(document.body).on('click','form.woocommerce-ordering div.orderby ul span',function(e){e.preventDefault();if($(this).hasClass('current')){return}
$('.orderby-current').html($(this).text());var form=$('form.woocommerce-ordering');var data=$(this).attr('data-orderby');$('form.woocommerce-ordering div.orderby ul span').removeClass('current');$(this).addClass('current');form.find('select.orderby').val(data).trigger('change')});$(document.body).on('change','#pgs_product_pp , .orderby, .jws-shop-product-cats',function(e){var url=$(this).parents('form').attr('action')+'?'+$(this).parents('form').serialize();$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])});$(document.body).on('click','.price_slider_wrapper button',function(event,ui){event.preventDefault();var form=$(this).closest('form').get(0),$form=$(form),url=$form.attr('action')+'?'+$form.serialize();$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])});$(document.body).on('submit','.woocommerce-widget-layered-nav-dropdown',function(e){e.preventDefault();var url=$(this).attr('action')+'?'+$(this).serialize();$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])});$(document.body).on('click','.widget_product_tag_cloud a',function(e){e.preventDefault();var url=$(this).attr('href');$('.widget_product_tag_cloud a').removeClass('active')
$(this).addClass('active');$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])});$(document.body).on('click','.widget_layered_nav_filters a',function(e){e.preventDefault();var url=$(this).attr('href');$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])});$(document.body).on('click','.woocommerce-pagination .page-numbers a',function(e){e.preventDefault();var url=$(this).attr('href');$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])});$(document.body).on('click',' #remove-filter-actived',function(e){e.preventDefault();var url=$(this).attr('href');$(document.body).trigger('smartsoft_catelog_filter_ajax',url,$(this))});$(document.body).find('#jws-shop-topbar , .siderbar-inner , .filter-shop-nav').on('click','a',function(e){var $widget=$(this).closest('ul');if($widget.hasClass('widget_product_tag_cloud')||$widget.hasClass('product-categories')||$widget.hasClass('widget_product_categories')||$widget.hasClass('wc-layered-nav')||$widget.hasClass('product-sort-by')||$widget.hasClass('product_reset')||$widget.hasClass('pavlos-price-filter-list')||$widget.hasClass('woocommerce-widget-layered-nav')){e.preventDefault();$(this).closest('.product-categories').find('li').removeClass('current-cat');$(this).closest('li').addClass('chosen');var url=$(this).attr('href');$(document.body).trigger('smartsoft_catelog_filter_ajax',[url,$(this)])}
if($widget.hasClass('widget_product_tag_cloud')){$(this).addClass('selected')}
if($widget.hasClass('product-sort-by')){$(this).addClass('active')}});$(document.body).on('smartsoft_catelog_filter_ajax',function(e,url,element){$('.products-wrap.woocommerce-products').append('<div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div>').addClass('loading');$('.shop-page').css('pointer-events','none');$('html,body').animate({scrollTop:$(".content-area").offset().top-120},600);if($(window).innerWidth()<991){$('.filter-shop-nav').find('.widget-title').next().slideUp()}
$('.shop-topbar').slideUp();$('.jws-filter-modal').removeClass('open').hide();$('.is-sticky').addClass('no-active-sticky').removeClass('active-sticky');$('.show_filter_shop').removeClass('active');$('.shop-main').addClass('jws-animated-products');var intervalID;if('?'==url.slice(-1)){url=url.slice(0,-1)}
url=url.replace(/%2C/g,',');window.history.pushState(null,"",url);$(window).bind("popstate",function(){window.location=location.href});$(document.body).trigger('smartsoft_ajax_filter_before_send_request');clearInterval(intervalID);$.get(url,function(res){$('html,body').animate({scrollTop:$(".products-wrap").offset().top-190},600);$('#jws-shop-topbar').html($(res).find('#jws-shop-topbar').html());$('.products-wrap.woocommerce-products').replaceWith($(res).find('.products-wrap.woocommerce-products'));$('.title-wrapper').html($(res).find('.title-wrapper').html());$('.jws-breadcrumbs').html($(res).find('.jws-breadcrumbs').html());$('.shop-filter-actived').html($(res).find('.shop-filter-actived').html());$('.siderbar-inner').html($(res).find('.siderbar-inner').html());$('.woocommerce-pagination').html($(res).find('.woocommerce-pagination').html());$('.woo-ordering').html($(res).find('.woo-ordering').html());$('.woo_top_filter').html($(res).find('.woo_top_filter').html());$('.filter-shop-nav').html($(res).find('.filter-shop-nav').html());$('.woocommerce-result-count').html($(res).find('.woocommerce-result-count').html());$('select').select2();jwsThemeWooModule.jws_theme_countdown();jwsThemeWooModule.priceSlider();$('.shop-page').css('pointer-events','auto');var iter=0;intervalID=setInterval(function(){$('.products-wrap.woocommerce-products').find('.product-item').eq(iter).addClass('jws-animated');iter++},100);$(document.body).trigger('smartsoft_ajax_filter_request_success',[res,url])},'html')});$(document.body).on('smartsoft_ajax_filter_before_send_request',function(){if($('#jws-shop-toolbar').hasClass('on-mobile')||$('#jws-shop-topbar').hasClass('on-mobile')){$('#jws-toggle-cats-filter').removeClass('active');$('.jws-filter').removeClass('active')}});window.onpageshow=function(event){if(event.persisted&&$('body').hasClass('.woocommerce-shop')){window.location.reload()}}}}}())})(jQuery);jQuery(document).ready(function(){jwsThemeWooModule.init()});jQuery(window).load(function(){})